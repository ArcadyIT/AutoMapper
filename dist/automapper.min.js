/*!
 * TypeScript / Javascript AutoMapper Library v1.7.3
 * https://github.com/loedeman/AutoMapper
 *
 * Copyright 2015 Bert Loedeman and other contributors
 * Released under the MIT license
 *
 * Date: 2016-11-10T17:00:00.000Z
 */
var AutoMapperJs;!function(n){"use strict";var t=function(){function t(){}return t.getClassName=function(n){if(n&&n.name)return n.name;if(n&&n.constructor){var t=n.toString();if(t){var r=t.match(/function\s*(\w+)/);if(r&&2===r.length)return r[1]}if(n.constructor.name)return n.constructor.name;if(n.constructor.toString()){var e=n.constructor.toString();if("["===e.charAt(0))var o=e.match(/\[\w+\s*(\w+)\]/);else var o=e.match(/function\s*(\w+)/);if(o&&2===o.length)return o[1]}}throw new Error("Unable to extract class name from type '"+n+"'")},t.getFunctionParameters=function(n){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,r=/([^\s,]+)/g,e=n.toString().replace(t,""),o=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(r);return null===o&&(o=new Array),o},t.handleCurrying=function(n,t,r){function e(t,o,i){for(var a=o.slice(0),u=i,c=0;c<t.length;c++,i--)o[o.length]=t[c];if(i-t.length<=0){var f=n.apply(r,o);return o=a,i=u,f}return function(){return e(arguments,o.slice(0),i)}}var o=n.length-t.length,i=Array.prototype.slice.apply(t);return e([],i,o)},t.getMappingMetadataFromConfigFunction=function(r,e,o){if("function"!=typeof e)return{destination:r,source:r,transformation:{transformationType:n.DestinationTransformationType.Constant,constant:e},sourceMapping:o,condition:null,ignore:!1,async:!1};var i=e.toString(),a=t.getFunctionParameters(e),u=a.length>=1?a[0]:"",c=o?r:t.getMapFromString(i,r,u),f={destination:r,source:c,transformation:{transformationType:n.DestinationTransformationType.MemberConfigurationOptionsFunc,memberConfigurationOptionsFunc:e},sourceMapping:o,condition:null,ignore:t.getIgnoreFromString(i,r),async:2===a.length};return!f.async&&t.getFunctionCallIndex(i,"condition",u)>=0&&(f.condition=t.getConditionFromFunction(e,c)),f},t.getIgnoreFromString=function(n,r){var e=t.getFunctionCallIndex(n,"ignore",r);if(e<0)return!1;var o=n.indexOf("(",e)+1,i=n.indexOf(")",o);if(o<0||i<0)return!1;var a=n.substring(o,i).replace(/\r/g,"").replace(/\n/g,"").trim();return null===a||""===a},t.getMapFromString=function(n,r,e){var o=t.getFunctionCallIndex(n,"mapFrom",e);if(o<0)return r;var i=n.indexOf("(",o)+1,a=n.indexOf(")",i);if(i<0||a<0)return r;var u=n.substring(i,a).replace(/'/g,"").replace(/"/g,"").trim();return null===u||""===u?r:u},t.getFunctionCallIndex=function(n,t,r){var e=n.indexOf(r+"."+t);return e<0&&(e=n.indexOf("."+t)),e},t.getConditionFromFunction=function(n,t){var r={};r[t]={};var e,o={ignore:function(){},condition:function(n){e=n},mapFrom:function(n){},sourceObject:r,sourcePropertyName:t,intermediatePropertyValue:{}};try{n(o)}catch(n){}return e},t}();n.AutoMapperHelper=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(e){"use strict";var r=function(){function r(){}return r.assertConfigurationIsValid=function(e,t){for(var n in e)e.hasOwnProperty(n)&&r.assertMappingConfiguration(e[n],t)},r.assertMappingConfiguration=function(t,n){var i=t.sourceKey+"=>"+t.destinationKey,o=t.sourceTypeClass,a=t.destinationTypeClass,s=o?e.AutoMapperHelper.getClassName(o):void 0,p=a?e.AutoMapperHelper.getClassName(a):void 0;if(!o||!a){if(n===!1)return;throw new Error("Mapping '"+i+"' cannot be validated, since mapping.sourceType or mapping.destinationType are unspecified.")}for(var u=function(e){if(e)throw new Error("Mapping '"+i+"' is invalid: "+e+" (source: '"+s+"', destination: '"+p+"').")},d=new Array,f=new o,c=new a,y=0,g=t.properties;y<g.length;y++){var m=g[y];u(r.validatePropertyMapping(m,m.name,f,c)),d.push(m.name)}for(var v in f)f.hasOwnProperty(v)&&(d.indexOf(v)>=0||(u(r.validateProperty(v,c)),d.push(v)));for(var b in c)c.hasOwnProperty(b)&&(d.indexOf(b)>=0||u("Destination member '"+b+"' does not exist on source type"))},r.validatePropertyMapping=function(e,t,n,i){return e.sourceMapping?r.validateSourcePropertyMapping(e,t,n,i):r.validateDestinationPropertyMapping(e,t,n,i)},r.validateSourcePropertyMapping=function(e,r,t,n){if(!t.hasOwnProperty(r))return"Source member '"+r+"' is configured, but does not exist on source type";{if(!e.ignore)return n.hasOwnProperty(r)?void 0:"Source member '"+r+"' is configured to be mapped, but does not exist on destination type";if(n.hasOwnProperty(r))return"Source member '"+r+"' is ignored, but does exist on destination type"}},r.validateDestinationPropertyMapping=function(e,r,t,n){if(!n.hasOwnProperty(r))return"Destination member '"+r+"' is configured, but does not exist on destination type";{if(!e.ignore)return t.hasOwnProperty(r)?void 0:"Destination member '"+r+"' is configured to be mapped, but does not exist on source type";if(t.hasOwnProperty(r))return"Destination member '"+r+"' is ignored, but does exist on source type"}},r.validateProperty=function(e,r){if(!r.hasOwnProperty(e))return"Source member '"+e+"' is configured to be mapped, but does not exist on destination type"},r}();e.AutoMapperValidator=r}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(n){"use strict";!function(n){n[n.Constant=1]="Constant",n[n.MemberConfigurationOptionsFunc=2]="MemberConfigurationOptionsFunc",n[n.Function2=4]="Function2"}(n.DestinationTransformationType||(n.DestinationTransformationType={}));n.DestinationTransformationType}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(e){"use strict";var t=function(){function t(){}return t.prototype.getMapping=function(e,t,r){var n=this.getKey(t),o=this.getKey(r),i=e[n+o];if(!i)throw new Error("Could not find map object with a source of "+n+" and a destination of "+o);return i},t.prototype.getKey=function(t){return"string"==typeof t?t:e.AutoMapperHelper.getClassName(t)},t.prototype.isArray=function(e){return e instanceof Array},t.prototype.handleArray=function(e,t,r){for(var n=t.length,o=new Array(t.length),i=0;i<n;i++){var a=t[i],p=void 0;null===a||void 0===a?p=a:(p=this.createDestinationObject(e.destinationTypeClass),r(a,p)),o[i]=p}return o},t.prototype.handleItem=function(e,t,r,n){var o=[],i=!1;for(var a in t)t.hasOwnProperty(a)&&(i=!0,o.push(a),n(a));for(var p=0,s=e.properties;p<s.length;p++){var l=s[p];o.indexOf(l.name)>=0||(i=!0,n(l.name))}return!i&&null===t||void 0===t?t:r},t.prototype.handleProperty=function(e,t,r,n,o,i){var a=this.getMappingProperty(e.properties,r);a?this.handlePropertyWithPropertyMapping(e,a,t,r,o):this.handlePropertyWithAutoMapping(e,t,r,n,i)},t.prototype.setPropertyValue=function(e,t,r,n){if(e.forAllMemberMappings.length>0)for(var o=0,i=e.forAllMemberMappings;o<i.length;o++){var a=i[o];this.handleNestedForAllMemberMappings(t,r,n,a)}else this.setNestedPropertyValue(t,r,n)},t.prototype.setPropertyValueByName=function(e,t,r,n){if(e.forAllMemberMappings.length>0)for(var o=0,i=e.forAllMemberMappings;o<i.length;o++){var a=i[o];a(t,r,n)}else t[r]=n},t.prototype.createDestinationObject=function(e){return e?new e:{}},t.prototype.handleNestedForAllMemberMappings=function(e,t,r,n){t.children&&t.children.length>0?this.setChildPropertyValues(e,t,r):n(e,t.name,r)},t.prototype.setNestedPropertyValue=function(e,t,r){if(t.children&&t.children.length>0){var n=this.setChildPropertyValues(e,t,r);return n||(e[t.name]=r),n}return e[t.name]=r,void 0!==r&&null!==r},t.prototype.setChildPropertyValues=function(e,t,r){for(var n,o={},i=e.hasOwnProperty(t.name)&&e[t.name],a=0,p=t.children.length;a<p;a++){var s={},l=t.children[a],u=this.setNestedPropertyValue(s,l,r);u&&(o[l.name]=s[l.name]),n=n||u}if(n)if(i)for(var c in o)o.hasOwnProperty(c)&&(e[t.name][c]=o[c]);else e[t.name]=o;return i||n},t.prototype.getMappingProperty=function(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o.name===t)return o}return null},t.prototype.handlePropertyWithAutoMapping=function(e,t,r,n,o){if(!(e.ignoreAllNonExisting||e.destinationTypeClass&&Object.keys(n).indexOf(r)<0)){var i=null,a=!1;"object"==typeof n[r]&&n[r]&&(a="Object"!==n[r].constructor.name,a&&(this.createMap(t[r].constructor.name,n[r].constructor.name).convertToType(n[r].constructor),i=this.map(t[r].constructor.name,n[r].constructor.name,t[r])));var p=this.getDestinationPropertyName(e.profile,r),s=this.getDestinationPropertyValue(t,r,i,a);this.setPropertyValueByName(e,n,p,s),o&&o(s)}},t.prototype.getDestinationPropertyValue=function(e,t,r,n){return n?r:e?e[t]:null},t.prototype.handlePropertyWithPropertyMapping=function(e,t,r,n,o){var i=t.ignore,a=t.conditionFunction,p=t.children,s=t.destinations,l=t.conversionValuesAndFunctions;if(p)for(var u=r[t.name],c=0;c<p.length;c++){var y=p[c];this.handlePropertyWithPropertyMapping(e,y,u,y.name,o)}if(!i&&(!a||a(r)!==!1)&&s){var h={mapFrom:function(){},condition:function(e){},sourceObject:r,sourcePropertyName:n,intermediatePropertyValue:r?r[n]:r};o(s,l,h)}},t.prototype.getDestinationPropertyName=function(e,t){if(!e)return t;try{for(var r=t.split(e.sourceMemberNamingConvention.splittingExpression),n=r.length-1;n>=0;n--)""===r[n]&&r.splice(n,1);return e.destinationMemberNamingConvention.transformPropertyName(r)}catch(e){return t}},t}();e.AutoMapperBase=t}(AutoMapperJs||(AutoMapperJs={}));
var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},AutoMapperJs;!function(t){"use strict";var e=function(e){function n(){e.call(this),n.asyncInstance=this}return __extends(n,e),n.prototype.createMap=function(t,e){throw new Error("Method AsyncAutoMapper.createMap is not implemented.")},n.prototype.createMapForMember=function(t,e,n){var r=this,o=t.metadata.mapping;o.async=!0,o.mapItemFunction=function(t,e,n,o){return r.mapItem(t,e,n,o)},t.async=!0,t.conversionValuesAndFunctions.push(e)},n.prototype.createMapConvertUsing=function(t,e){var n=this;t.async=!0,t.typeConverterFunction=e,t.mapItemFunction=function(t,e,r,o){return n.mapItemUsingTypeConverter(t,e,r,o)}},n.prototype.map=function(t,n,r,o,p){var a=this;switch(arguments.length){case 5:return void this.mapWithMapping(e.prototype.getMapping.call(this,t,n,r),o,p);case 4:return function(p){return a.mapWithMapping(e.prototype.getMapping.call(a,t,n,r),o,p)};case 3:return function(o,p){return a.mapWithMapping(e.prototype.getMapping.call(a,t,n,r),o,p)};case 2:return function(e,r,o){return a.map(t,n,e,r,o)};default:throw new Error("The AsyncAutoMapper.map function expects between 2 and 5 parameters, you provided "+arguments.length+".")}},n.prototype.mapWithMapping=function(t,n,r){return e.prototype.isArray.call(this,n)?void this.mapArray(t,n,r):t.mapItemFunction(t,n,e.prototype.createDestinationObject.call(this,t.destinationTypeClass),r)},n.prototype.mapArray=function(t,n,r){var o=0,p=e.prototype.handleArray.call(this,t,n,function(e,n){o++,t.mapItemFunction(t,e,n,function(t){o--})}),a=function(){0===o?r(p):setTimeout(function(){a()},10*o)};a()},n.prototype.mapItemUsingTypeConverter=function(t,e,n,r){var o={sourceValue:e,destinationValue:n};t.typeConverterFunction(o,r)},n.prototype.mapItem=function(t,n,r,o){var p=this,a=0;e.prototype.handleItem.call(this,t,n,r,function(e){a++,p.mapProperty(t,n,e,r,function(t){a--})});var i=function(){0===a?o(r):setTimeout(function(){i()},10*a)};i()},n.prototype.mapProperty=function(t,n,r,o,p){var a=this;e.prototype.handleProperty.call(this,t,n,r,o,function(n,r,i){a.handlePropertyMappings(r,i,function(r){for(var i=0,c=n;i<c.length;i++){var u=c[i];e.prototype.setPropertyValue.call(a,t,o,u,r)}p(r)})},function(t){p(t)})},n.prototype.handlePropertyMappings=function(t,e,n){var r=this;if(!t||0===t.length)return void n(e.intermediatePropertyValue);var o=t[0];"function"==typeof o?this.handlePropertyMappingFunction(o,e,function(o){"undefined"!=typeof o&&(e.intermediatePropertyValue=o,r.handlePropertyMappings(t.slice(1),e,n))}):(e.intermediatePropertyValue=o,this.handlePropertyMappings(t.slice(1),e,n))},n.prototype.handlePropertyMappingFunction=function(e,n,r){var o=t.AutoMapperHelper.getFunctionParameters(e);return 2===o.length?void e(n,r):void r(e(n))},n.asyncInstance=new n,n}(t.AutoMapperBase);t.AsyncAutoMapper=e}(AutoMapperJs||(AutoMapperJs={}));
var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AutoMapperJs;!function(e){"use strict";var t=function(t){function r(){return t.call(this),r._instance?r._instance:(r._instance=this,this._profiles={},this._mappings={},this._asyncMapper=new e.AsyncAutoMapper,void 0)}return __extends(r,t),r.getInstance=function(){return r._instance},r.prototype.initialize=function(e){var t=this,r={addProfile:function(e){e.configure(),t._profiles[e.profileName]=e},createMap:function(e,r){return t.createMap.apply(t,arguments)}};e(r)},r.prototype.createMap=function(t,r){if(arguments.length<2)return e.AutoMapperHelper.handleCurrying(this.createMap,arguments,this);var n=this.createMappingObjectForGivenKeys(t,r);return this.createMapGetFluentApiFunctions(n)},r.prototype.map=function(e,r,n){var o=this;return 3===arguments.length?this.mapInternal(t.prototype.getMapping.call(this,this._mappings,e,r),n):2===arguments.length?function(n){return o.mapInternal(t.prototype.getMapping.call(o,o._mappings,e,r),n)}:1===arguments.length?function(t,r){return o.map(e,t,r)}:function(e,t,r){return o.map(e,t,r)}},r.prototype.mapAsync=function(e,t,r,n){switch(arguments.length){case 4:return this._asyncMapper.map(this._mappings,e,t,r,n);case 3:return this._asyncMapper.map(this._mappings,e,t,r);case 2:return this._asyncMapper.map(this._mappings,e,t);case 1:return this._asyncMapper.map(this._mappings,e);default:throw new Error("The mapAsync function expects between 1 and 4 parameters, you provided "+arguments.length+".")}},r.prototype.assertConfigurationIsValid=function(t){void 0===t&&(t=!0),e.AutoMapperValidator.assertConfigurationIsValid(this._mappings,t)},r.prototype.createMapForMember=function(t){var r,n=t.mapping,o=t.destinationProperty,i=t.conversionValueOrFunction,a=t.sourceMapping,p=t.fluentFunctions,s=e.AutoMapperHelper.getMappingMetadataFromConfigFunction(o,i,a);return a||(r=this.getPropertyByDestinationProperty(n.properties,o)),r||(r=this.getOrCreateProperty({propertyNameParts:s.source.split("."),mapping:n,propertyArray:n.properties,parent:null,destination:o,sourceMapping:a})),this.createMapForMemberHandleIgnore(r,s)?p:s.async?(this._asyncMapper.createMapForMember(r,i,s),p):(this.createMapForMemberHandleMapFrom(r,s),r.conditionFunction=s.condition,r.conversionValuesAndFunctions.push(i),p)},r.prototype.createMapForMemberHandleMapFrom=function(e,t){if(t.source!==t.destination){var r=e.metadata,n=r.mapping,o=r.root,i=t.source.split(".");if(i.length===e.level)return void this.updatePropertyName(i,e);if(1!==o.metadata.destinationCount)throw new Error("Rebasing properties with multiple destinations is not yet implemented.");var a=n.properties.indexOf(o);n.properties[a]=void 0;var p=[],s=this.getOrCreateProperty({propertyNameParts:t.source.split("."),mapping:n,propertyArray:p,destination:t.destination,sourceMapping:t.sourceMapping});s.conditionFunction=e.conditionFunction,s.conversionValuesAndFunctions=e.conversionValuesAndFunctions,n.properties[a]=p[0]}},r.prototype.updatePropertyName=function(e,t){t.name=e[e.length-1],1!==e.length&&this.updatePropertyName(e.splice(0,1),t.metadata.parent)},r.prototype.createMapForMemberHandleIgnore=function(e,t){return!(!e.ignore&&!t.ignore)&&(e.name=t.destination,e.ignore=!0,e.async=!1,e.destinations=null,e.conversionValuesAndFunctions=[],!0)},r.prototype.getPropertyByDestinationProperty=function(e,t){if(null===e||void 0===e)return null;for(var r=0,n=e;r<n.length;r++){var o=n[r];if(null!==o.metadata.destinations&&void 0!==o.metadata.destinations)for(var i in o.metadata.destinations)if(i===t)return o.metadata.destinations[i].source;var a=this.getPropertyByDestinationProperty(o.children,t);if(null!=a)return a}return null},r.prototype.getOrCreateProperty=function(e){var t=e.propertyNameParts,r=e.mapping,n=e.parent,o=e.propertyArray,i=e.destination,a=e.sourceMapping,p=t[0],s=this.getPropertyFromArray(p,o);return s||(s=this.createProperty({name:p,parent:n,propertyArray:o,sourceMapping:a,mapping:r})),1===t.length?(this.addPropertyDestination(s,i,r,a),s):(s.children||(s.children=[]),this.getOrCreateProperty({propertyNameParts:t.slice(1),mapping:r,propertyArray:s.children,parent:s,destination:i,sourceMapping:a}))},r.prototype.getPropertyFromArray=function(e,t){if(t)for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.name===e)return o}return null},r.prototype.addPropertyDestination=function(e,t,r,n){if(t){var o=e.destinations?e.destinations:[],i=this.getOrCreateProperty({propertyNameParts:t.split("."),mapping:r,propertyArray:o,sourceMapping:n});o.length>0&&(e.metadata.root.metadata.destinations[t]={source:e,destination:i},e.metadata.root.metadata.destinationCount++,e.destinations=o)}},r.prototype.createProperty=function(e){var t=e.name,r=e.parent,n=e.propertyArray,o=e.sourceMapping,i=e.mapping,a={name:t,metadata:{mapping:i,root:r?r.metadata.root:null,parent:r,destinations:{},destinationCount:0},sourceMapping:o,level:r?r.level+1:1,ignore:!1,async:!1,conversionValuesAndFunctions:[]};return null===a.metadata.root&&(a.metadata.root=a),n&&n.push(a),a},r.prototype.createMapForSourceMember=function(e,t,r,n){if("function"!=typeof n)throw new Error("Configuration of forSourceMember has to be a function with one (sync) or two (async) options parameters.");return this.createMapForMember({mapping:e,fluentFunctions:t,destinationProperty:r,conversionValueOrFunction:n,sourceMapping:!0})},r.prototype.createMapForAllMembers=function(e,t,r){return e.forAllMemberMappings.push(r),t},r.prototype.createMapIgnoreAllNonExisting=function(e,t){return e.ignoreAllNonExisting=!0,t},r.prototype.createMapConvertToType=function(e,t,r){if(e.destinationTypeClass)throw new Error("Destination type class can only be set once.");return e.destinationTypeClass=r,t},r.prototype.createMapConvertUsing=function(t,r){try{if(r instanceof e.TypeConverter)return void this.configureSynchronousConverterFunction(t,r.convert);var n=e.AutoMapperHelper.getFunctionParameters(r);switch(n.length){case 0:var o;try{o=new r}catch(e){}if(o instanceof e.TypeConverter)return void this.configureSynchronousConverterFunction(t,o.convert);break;case 1:return void this.configureSynchronousConverterFunction(t,r);case 2:return void this._asyncMapper.createMapConvertUsing(t,r)}this.configureSynchronousConverterFunction(t,r)}catch(e){throw new Error("The value provided for typeConverterClassOrFunction is invalid. "+e)}throw new Error("The value provided for typeConverterClassOrFunction is invalid.")},r.prototype.configureSynchronousConverterFunction=function(t,r){var n=this;if(!r||1!==e.AutoMapperHelper.getFunctionParameters(r).length)throw new Error("The function provided does not provide exactly one (resolutionContext) parameter.");t.typeConverterFunction=r,t.mapItemFunction=function(e,t,r){return n.mapItemUsingTypeConverter(e,t,r)}},r.prototype.createMapWithProfile=function(e,t){var r=this._profiles[t];if("undefined"==typeof r||r.profileName!==t)throw new Error("Could not find profile with profile name '"+t+"'.");e.profile=r,this.createMapWithProfileMergeMappings(e,t)},r.prototype.createMapWithProfileMergeMappings=function(e,t){var r=t+"=>"+e.sourceKey+t+"=>"+e.destinationKey,n=this._mappings[r];if(n){n.forAllMemberMappings.length>0&&(p=e.forAllMemberMappings).push.apply(p,n.forAllMemberMappings),n.typeConverterFunction&&(e.typeConverterFunction=n.typeConverterFunction),n.destinationTypeClass&&(e.destinationTypeClass=n.destinationTypeClass);for(var o=0,i=n.properties;o<i.length;o++){var a=i[o];this.mergeProperty(e,e.properties,a)}var p}},r.prototype.mergeProperty=function(e,t,r){for(var n=!1,o=0;o<e.properties.length;o++){var i=e.properties[o];i.name===r.name&&(e.properties[o]=r,n=!0)}n===!1&&e.properties.push(r)},r.prototype.mapInternal=function(e,r){if(e.async)throw new Error("Impossible to use asynchronous mapping using automapper.map(); use automapper.mapAsync() instead.");return t.prototype.isArray.call(this,r)?this.mapArray(e,r):e.mapItemFunction(e,r,t.prototype.createDestinationObject.call(this,e.destinationTypeClass))},r.prototype.mapArray=function(e,r){var n=t.prototype.handleArray.call(this,e,r,function(t,r){e.mapItemFunction(e,t,r)});return n},r.prototype.mapItem=function(e,r,n){var o=this;return n=t.prototype.handleItem.call(this,e,r,n,function(t){o.mapProperty(e,r,n,t)})},r.prototype.mapItemUsingTypeConverter=function(e,t,r,n){var o={sourceValue:t,destinationValue:r};return e.typeConverterFunction(o)},r.prototype.mapProperty=function(e,r,n,o){var i=this;t.prototype.handleProperty.call(this,e,r,o,n,function(r,o,a){for(var p=i.handlePropertyMappings(o,a),s=0,u=r;s<u.length;s++){var c=u[s];t.prototype.setPropertyValue.call(i,e,n,c,p)}})},r.prototype.handlePropertyMappings=function(e,t){if(!e||0===e.length)return t.intermediatePropertyValue;var r=e[0];if("function"==typeof r){var n=r(t);return"undefined"!=typeof n&&(t.intermediatePropertyValue=n),this.handlePropertyMappings(e.slice(1),t)}return t.intermediatePropertyValue=r,this.handlePropertyMappings(e.slice(1),t)},r.prototype.createMappingObjectForGivenKeys=function(e,r){var n=this,o={sourceKey:t.prototype.getKey.call(this,e),destinationKey:t.prototype.getKey.call(this,r),forAllMemberMappings:new Array,properties:[],propertiesNew:[],typeConverterFunction:void 0,mapItemFunction:function(e,t,r){return n.mapItem(e,t,r)},sourceTypeClass:"string"==typeof e?void 0:e,destinationTypeClass:"string"==typeof r?void 0:r,profile:void 0,async:!1};return this._mappings[o.sourceKey+o.destinationKey]=o,o},r.prototype.createMapGetFluentApiFunctions=function(e){var t=this,r={forMember:function(n,o){return t.createMapForMemberNewVersion({mapping:e,propertyName:n,transformation:o,sourceMapping:!1,fluentFunctions:r}),t.createMapForMember({mapping:e,fluentFunctions:r,destinationProperty:n,conversionValueOrFunction:o,sourceMapping:!1})},forSourceMember:function(n,o){return t.createMapForMemberNewVersion({mapping:e,propertyName:n,transformation:o,sourceMapping:!0,fluentFunctions:r}),t.createMapForSourceMember(e,r,n,o)},forAllMembers:function(n){return t.createMapForAllMembers(e,r,n)},ignoreAllNonExisting:function(){return t.createMapIgnoreAllNonExisting(e,r)},convertToType:function(n){return t.createMapConvertToType(e,r,n)},convertUsing:function(r){return t.createMapConvertUsing(e,r)},withProfile:function(r){return t.createMapWithProfile(e,r)}};return r},r.prototype.createMapForMemberNewVersion=function(t){var r=t.mapping,n=t.propertyName,o=t.transformation,i=t.sourceMapping,a=t.fluentFunctions,p=e.AutoMapperHelper.getMappingMetadataFromConfigFunction(n,o,i),s=(p.source,p.destination,this.createSourceProperty(p,null));return this.mergeSourceProperty(s,r.propertiesNew,i)||r.propertiesNew.push(s),a},r.prototype.createSourceProperty=function(e,t){var r=t?t.level+1:0,n=e.source.split(".");if(r>=n.length)return null;var o={name:n[r],destinationPropertyName:e.destination,parent:t,level:r,children:[],destination:null};if(r+1<n.length){var i=this.createSourceProperty(e,o);i&&o.children.push(i),o.destination=null}else o.destination=this.createDestinationProperty(e,null);return o},r.prototype.createDestinationProperty=function(e,t){var r=t?t.level+1:0,n=e.destination.split(".");if(r>=n.length)return null;var o={name:n[r],sourcePropertyName:e.source,parent:t,level:r,child:null,transformations:[],ignore:!1,sourceMapping:!1};return r+1<n.length?o.child=this.createDestinationProperty(e,o):(o.sourceMapping=e.sourceMapping,o.ignore=e.ignore,o.transformations.push(e.transformation)),o},r.prototype.mergeSourceProperty=function(e,t,r){var n=r?this.findProperty(e.name,t):this.matchSourcePropertyByDestination(e,t);if(!n)return!1;if(e.children.length>0){if(n.destination)return!1;for(var o=0,i=e.children;o<i.length;o++){var a=i[o];if(!this.mergeSourceProperty(a,n.children,r))return!1}}else if(e.destination&&!this.mergeDestinationProperty(e.destination,n.destination))return!1;return!0},r.prototype.mergeDestinationProperty=function(e,t){if(!t)return!1;if(e.child){if(t.transformations.length>0)return!1;if(!this.mergeDestinationProperty(e.child,t.child))return!1}else{if(t.sourceMapping!==e.sourceMapping&&t.sourcePropertyName!==e.sourcePropertyName)return!1;t.sourceMapping=e.sourceMapping,t.ignore=e.ignore;for(var r=0,n=e.transformations;r<n.length;r++){var o=n[r];t.transformations.push(o)}}return!0},r.prototype.matchSourcePropertyByDestination=function(e,t){if(!t)return null;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.destinationPropertyName===e.destinationPropertyName)return o}return null},r.prototype.findProperty=function(e,t){if(!t)return null;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.name===e)return o}return null},r._instance=new r,r}(e.AutoMapperBase);e.AutoMapper=t}(AutoMapperJs||(AutoMapperJs={}));var automapper=function(e){return e.automapper=AutoMapperJs.AutoMapper.getInstance(),e.automapper}(this);
var AutoMapperJs;!function(r){"use strict";var t=function(){function r(){}return r.prototype.configure=function(){},r.prototype.createMap=function(r,t){for(var p=Array.prototype.slice.apply(arguments),e=0,o=p.length;e<o;e++)p[e]&&(p[e]=this.profileName+"=>"+p[e]);return automapper.createMap.apply(automapper,p)},r}();r.Profile=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(e){"use strict";var t=function(){function e(){}return e.prototype.convert=function(e){throw new Error("The TypeConverter.convert method is abstract. Use a TypeConverter extension class instead.")},e}();e.TypeConverter=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(t){"use strict";var r=function(){function t(){this.splittingExpression=/(^[a-z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return t.prototype.transformPropertyName=function(t){for(var r="",a=0,e=t.length;a<e;a++)r+=0===a?t[a].charAt(0).toLowerCase()+t[a].substr(1):t[a].charAt(0).toUpperCase()+t[a].substr(1);return r},t}();t.CamelCaseNamingConvention=r}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(t){"use strict";var r=function(){function t(){this.splittingExpression=/(^[A-Z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return t.prototype.transformPropertyName=function(t){for(var r="",a=0,n=t.length;a<n;a++)r+=t[a].charAt(0).toUpperCase()+t[a].substr(1);return r},t}();t.PascalCaseNamingConvention=r}(AutoMapperJs||(AutoMapperJs={}));