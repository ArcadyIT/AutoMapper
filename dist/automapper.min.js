/*!
 * TypeScript / Javascript AutoMapper Library v1.8.0
 * https://github.com/loedeman/AutoMapper
 *
 * Copyright 2015-2017 Interest IT / Bert Loedeman and other contributors
 * Released under the MIT license
 *
 * Date: 2016-11-10T17:00:00.000Z
 */
var AutoMapperJs;!function(e){"use strict";var t=function(){function t(){}return t.getClassName=function(e){if(e&&e.name)return e.name;if(e&&e.constructor){var t=e.toString();if(t){var r=t.match(/function\s*(\w+)/);if(r&&2===r.length)return r[1]}if(e.constructor.name)return e.constructor.name;if(e.constructor.toString()){var n=e.constructor.toString();if("["===n.charAt(0))var o=n.match(/\[\w+\s*(\w+)\]/);else var o=n.match(/function\s*(\w+)/);if(o&&2===o.length)return o[1]}}throw new Error("Unable to extract class name from type '"+e+"'")},t.getFunctionParameters=function(e){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,r=/([^\s,]+)/g,n=e.replace(t,""),o=n.slice(n.indexOf("(")+1,n.indexOf(")")).match(r);return null===o&&(o=new Array),o},t.handleCurrying=function(e,t,r){function n(t,o,i){for(var a=o.slice(0),p=i,s=0;s<t.length;s++,i--)o[o.length]=t[s];if(i-t.length<=0){var u=e.apply(r,o);return o=a,i=p,u}return function(){return n(arguments,o.slice(0),i)}}var o=e.length-t.length,i=Array.prototype.slice.apply(t);return n([],i,o)},t.getMappingMetadataFromTransformationFunction=function(e,r,n){if("function"!=typeof r)return{destination:e,source:e,transformation:t.getDestinationTransformation(r,!1,n,!1),sourceMapping:n,condition:null,ignore:!1,async:!1};var o=r.toString(),i=t.getFunctionParameters(o),a=i.length>=1?i[0]:"",p=n?e:t.getMapFromString(o,e,a),s={destination:e,source:p,transformation:t.getDestinationTransformation(r,!0,n,2===i.length),sourceMapping:n,condition:null,ignore:t.getIgnoreFromString(o,e),async:2===i.length};return!s.async&&t.getFunctionCallIndex(o,"condition",a)>=0&&(s.condition=t.getConditionFromFunction(r,p)),s},t.getDestinationTransformation=function(t,r,n,o){if(!r)return{transformationType:e.DestinationTransformationType.Constant,constant:t};var i;return i=n?o?{transformationType:e.DestinationTransformationType.AsyncSourceMemberOptions,asyncSourceMemberConfigurationOptionsFunc:t}:{transformationType:e.DestinationTransformationType.SourceMemberOptions,sourceMemberConfigurationOptionsFunc:t}:o?{transformationType:e.DestinationTransformationType.AsyncMemberOptions,asyncMemberConfigurationOptionsFunc:t}:{transformationType:e.DestinationTransformationType.MemberOptions,memberConfigurationOptionsFunc:t}},t.getIgnoreFromString=function(e,r){var n=t.getFunctionCallIndex(e,"ignore",r);if(n<0)return!1;var o=e.indexOf("(",n)+1,i=e.indexOf(")",o);if(o<0||i<0)return!1;var a=e.substring(o,i).replace(/\r/g,"").replace(/\n/g,"").trim();return null===a||""===a},t.getMapFromString=function(e,r,n){var o=t.getFunctionCallIndex(e,"mapFrom",n);if(o<0)return r;var i=e.indexOf("(",o)+1,a=e.indexOf(")",i);if(i<0||a<0)return r;var p=e.substring(i,a).replace(/'/g,"").replace(/"/g,"").trim();return null===p||""===p?r:p},t.getFunctionCallIndex=function(e,t,r){var n=e.indexOf(r+"."+t);return n<0&&(n=e.indexOf("."+t)),n},t.getConditionFromFunction=function(e,t){var r={};r[t]={};var n,o={ignore:function(){},condition:function(e){n=e},mapFrom:function(e){},sourceObject:r,sourcePropertyName:t,intermediatePropertyValue:{}};try{e(o)}catch(e){}return n},t}();e.AutoMapperHelper=t}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";var t=function(){function t(){}return t.assertConfigurationIsValid=function(e,r){for(var n in e)e.hasOwnProperty(n)&&t.assertMappingConfiguration(e[n],r)},t.assertMappingConfiguration=function(r,n){var o=r.sourceKey+"=>"+r.destinationKey,i=r.sourceTypeClass,a=r.destinationTypeClass,p=i?e.AutoMapperHelper.getClassName(i):void 0,s=a?e.AutoMapperHelper.getClassName(a):void 0;if(!i||!a){if(n===!1)return;throw new Error("Mapping '"+o+"' cannot be validated, since mapping.sourceType or mapping.destinationType are unspecified.")}for(var u=function(e){if(e)throw new Error("Mapping '"+o+"' is invalid: "+e+" (source: '"+p+"', destination: '"+s+"').")},c=new Array,l=new i,y=new a,f=0,m=r.properties;f<m.length;f++){var h=m[f];u(t.validatePropertyMapping(h,h.name,l,y)),c.push(h.name)}for(var g in l)l.hasOwnProperty(g)&&(c.indexOf(g)>=0||(u(t.validateProperty(g,y)),c.push(g)));for(var d in y)y.hasOwnProperty(d)&&(c.indexOf(d)>=0||u("Destination member '"+d+"' does not exist on source type"))},t.validatePropertyMapping=function(e,r,n,o){return e.sourceMapping?t.validateSourcePropertyMapping(e,r,n,o):t.validateDestinationPropertyMapping(e,r,n,o)},t.validateSourcePropertyMapping=function(e,t,r,n){if(!r.hasOwnProperty(t))return"Source member '"+t+"' is configured, but does not exist on source type";{if(!e.ignore)return n.hasOwnProperty(t)?void 0:"Source member '"+t+"' is configured to be mapped, but does not exist on destination type";if(n.hasOwnProperty(t))return"Source member '"+t+"' is ignored, but does exist on destination type"}},t.validateDestinationPropertyMapping=function(e,t,r,n){if(!n.hasOwnProperty(t))return"Destination member '"+t+"' is configured, but does not exist on destination type";{if(!e.ignore)return r.hasOwnProperty(t)?void 0:"Destination member '"+t+"' is configured to be mapped, but does not exist on source type";if(r.hasOwnProperty(t))return"Destination member '"+t+"' is ignored, but does exist on source type"}},t.validateProperty=function(e,t){if(!t.hasOwnProperty(e))return"Source member '"+e+"' is configured to be mapped, but does not exist on destination type"},t}();e.AutoMapperValidator=t}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";!function(e){e[e.Constant=1]="Constant",e[e.MemberOptions=2]="MemberOptions",e[e.AsyncMemberOptions=4]="AsyncMemberOptions",e[e.SourceMemberOptions=8]="SourceMemberOptions",e[e.AsyncSourceMemberOptions=16]="AsyncSourceMemberOptions"}(e.DestinationTransformationType||(e.DestinationTransformationType={}));e.DestinationTransformationType}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";var t=function(){function t(){}return t.prototype.getMapping=function(e,t,r){var n=this.getKey(t),o=this.getKey(r),i=e[n+o];if(!i)throw new Error("Could not find map object with a source of "+n+" and a destination of "+o);return i},t.prototype.getKey=function(t){return"string"==typeof t?t:e.AutoMapperHelper.getClassName(t)},t.prototype.isArray=function(e){return e instanceof Array},t.prototype.handleArray=function(e,t,r){for(var n=t.length,o=new Array(t.length),i=0;i<n;i++){var a=t[i],p=void 0;null===a||void 0===a?p=a:(p=this.createDestinationObject(e.destinationTypeClass),r(a,p)),o[i]=p}return o},t.prototype.handleItem=function(e,t,r,n){var o=[],i=!1;for(var a in t)t.hasOwnProperty(a)&&(i=!0,o.push(a),n(a));for(var p=0,s=e.properties;p<s.length;p++){var u=s[p];o.indexOf(u.name)>=0||(i=!0,n(u.name))}return!i&&null===t||void 0===t?t:r},t.prototype.handleProperty=function(e,t,r,n,o,i){var a=this.getMappingProperty(e.properties,r);a?this.handlePropertyWithPropertyMapping(e,a,t,r,o):this.handlePropertyWithAutoMapping(e,t,r,n,i)},t.prototype.setPropertyValue=function(e,t,r,n){if(e.forAllMemberMappings.length>0)for(var o=0,i=e.forAllMemberMappings;o<i.length;o++){var a=i[o];this.handleNestedForAllMemberMappings(t,r,n,a)}else this.setNestedPropertyValue(t,r,n)},t.prototype.setPropertyValueByName=function(e,t,r,n){if(e.forAllMemberMappings.length>0)for(var o=0,i=e.forAllMemberMappings;o<i.length;o++){var a=i[o];a(t,r,n)}else t[r]=n},t.prototype.createDestinationObject=function(e){return e?new e:{}},t.prototype.handleNestedForAllMemberMappings=function(e,t,r,n){t.children&&t.children.length>0?this.setChildPropertyValues(e,t,r):n(e,t.name,r)},t.prototype.setNestedPropertyValue=function(e,t,r){if(t.children&&t.children.length>0){var n=this.setChildPropertyValues(e,t,r);return n||(e[t.name]=r),n}return e[t.name]=r,void 0!==r&&null!==r},t.prototype.setChildPropertyValues=function(e,t,r){for(var n,o={},i=e.hasOwnProperty(t.name)&&e[t.name],a=0,p=t.children.length;a<p;a++){var s={},u=t.children[a],c=this.setNestedPropertyValue(s,u,r);c&&(o[u.name]=s[u.name]),n=n||c}if(n)if(i)for(var l in o)o.hasOwnProperty(l)&&(e[t.name][l]=o[l]);else e[t.name]=o;return i||n},t.prototype.getMappingProperty=function(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o.name===t)return o}return null},t.prototype.handlePropertyWithAutoMapping=function(e,t,r,n,o){if(!(e.ignoreAllNonExisting||e.destinationTypeClass&&Object.keys(n).indexOf(r)<0)){var i=null,a=!1;"object"==typeof n[r]&&n[r]&&(a="Object"!==n[r].constructor.name,a&&(this.createMap(t[r].constructor.name,n[r].constructor.name).convertToType(n[r].constructor),i=this.map(t[r].constructor.name,n[r].constructor.name,t[r])));var p=this.getDestinationPropertyName(e.profile,r),s=this.getDestinationPropertyValue(t,r,i,a);this.setPropertyValueByName(e,n,p,s),o&&o(s)}},t.prototype.getDestinationPropertyValue=function(e,t,r,n){return n?r:e?e[t]:null},t.prototype.handlePropertyWithPropertyMapping=function(e,t,r,n,o){var i=t.ignore,a=t.conditionFunction,p=t.children,s=t.destinations,u=t.conversionValuesAndFunctions;if(p)for(var c=r[t.name],l=0;l<p.length;l++){var y=p[l];this.handlePropertyWithPropertyMapping(e,y,c,y.name,o)}if(!i&&(!a||a(r)!==!1)&&s){var f={mapFrom:function(){},condition:function(e){},sourceObject:r,sourcePropertyName:n,intermediatePropertyValue:r?r[n]:r};o(s,u,f)}},t.prototype.getDestinationPropertyName=function(e,t){if(!e)return t;try{for(var r=t.split(e.sourceMemberNamingConvention.splittingExpression),n=r.length-1;n>=0;n--)""===r[n]&&r.splice(n,1);return e.destinationMemberNamingConvention.transformPropertyName(r)}catch(e){return t}},t}();e.AutoMapperBase=t}(AutoMapperJs||(AutoMapperJs={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AutoMapperJs;!function(e){"use strict";var t=function(t){function r(){t.call(this),r.asyncInstance=this}return __extends(r,t),r.prototype.createMap=function(e,t){throw new Error("Method AsyncAutoMapper.createMap is not implemented.")},r.prototype.createMapForMember=function(e,t,r){var n=this,o=e.metadata.mapping;o.async=!0,o.mapItemFunction=function(e,t,r,o){return n.mapItem(e,t,r,o)},e.async=!0,e.conversionValuesAndFunctions.push(t)},r.prototype.createMapConvertUsing=function(e,t){var r=this;e.async=!0,e.typeConverterFunction=t,e.mapItemFunction=function(e,t,n,o){return r.mapItemUsingTypeConverter(e,t,n,o)}},r.prototype.map=function(e,r,n,o,i){var a=this;switch(arguments.length){case 5:return void this.mapWithMapping(t.prototype.getMapping.call(this,e,r,n),o,i);case 4:return function(i){return a.mapWithMapping(t.prototype.getMapping.call(a,e,r,n),o,i)};case 3:return function(o,i){return a.mapWithMapping(t.prototype.getMapping.call(a,e,r,n),o,i)};case 2:return function(t,n,o){return a.map(e,r,t,n,o)};default:throw new Error("The AsyncAutoMapper.map function expects between 2 and 5 parameters, you provided "+arguments.length+".")}},r.prototype.mapWithMapping=function(e,r,n){return t.prototype.isArray.call(this,r)?void this.mapArray(e,r,n):e.mapItemFunction(e,r,t.prototype.createDestinationObject.call(this,e.destinationTypeClass),n)},r.prototype.mapArray=function(e,r,n){var o=0,i=t.prototype.handleArray.call(this,e,r,function(t,r){o++,e.mapItemFunction(e,t,r,function(e){o--})}),a=function(){0===o?n(i):setTimeout(function(){a()},10*o)};a()},r.prototype.mapItemUsingTypeConverter=function(e,t,r,n){var o={sourceValue:t,destinationValue:r};e.typeConverterFunction(o,n)},r.prototype.mapItem=function(e,r,n,o){var i=this,a=0;t.prototype.handleItem.call(this,e,r,n,function(t){a++,i.mapProperty(e,r,t,n,function(e){a--})});var p=function(){0===a?o(n):setTimeout(function(){p()},10*a)};p()},r.prototype.mapProperty=function(e,r,n,o,i){var a=this;t.prototype.handleProperty.call(this,e,r,n,o,function(r,n,p){a.handlePropertyMappings(n,p,function(n){for(var p=0,s=r;p<s.length;p++){var u=s[p];t.prototype.setPropertyValue.call(a,e,o,u,n)}i(n)})},function(e){i(e)})},r.prototype.handlePropertyMappings=function(e,t,r){var n=this;if(!e||0===e.length)return void r(t.intermediatePropertyValue);var o=e[0];"function"==typeof o?this.handlePropertyMappingFunction(o,t,function(o){"undefined"!=typeof o&&(t.intermediatePropertyValue=o,n.handlePropertyMappings(e.slice(1),t,r))}):(t.intermediatePropertyValue=o,this.handlePropertyMappings(e.slice(1),t,r))},r.prototype.handlePropertyMappingFunction=function(t,r,n){var o=e.AutoMapperHelper.getFunctionParameters(t.toString());return 2===o.length?void t(r,n):void n(t(r))},r.asyncInstance=new r,r}(e.AutoMapperBase);e.AsyncAutoMapper=t}(AutoMapperJs||(AutoMapperJs={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},AutoMapperJs;!function(e){"use strict";var t=function(t){function r(){return t.call(this),r._instance?r._instance:(r._instance=this,this._profiles={},this._mappings={},this._asyncMapper=new e.AsyncAutoMapper,void 0)}return __extends(r,t),r.getInstance=function(){return r._instance},r.prototype.initialize=function(e){var t=this,r={addProfile:function(e){e.configure(),t._profiles[e.profileName]=e},createMap:function(e,r){return t.createMap.apply(t,arguments)}};e(r)},r.prototype.createMap=function(t,r){if(arguments.length<2)return e.AutoMapperHelper.handleCurrying(this.createMap,arguments,this);var n=this.createMappingObjectForGivenKeys(t,r);return this.createMapGetFluentApiFunctions(n)},r.prototype.map=function(e,r,n){var o=this;return 3===arguments.length?this.mapInternal(t.prototype.getMapping.call(this,this._mappings,e,r),n):2===arguments.length?function(n){return o.mapInternal(t.prototype.getMapping.call(o,o._mappings,e,r),n)}:1===arguments.length?function(t,r){return o.map(e,t,r)}:function(e,t,r){return o.map(e,t,r)}},r.prototype.mapAsync=function(e,t,r,n){switch(arguments.length){case 4:return this._asyncMapper.map(this._mappings,e,t,r,n);case 3:return this._asyncMapper.map(this._mappings,e,t,r);case 2:return this._asyncMapper.map(this._mappings,e,t);case 1:return this._asyncMapper.map(this._mappings,e);default:throw new Error("The mapAsync function expects between 1 and 4 parameters, you provided "+arguments.length+".")}},r.prototype.assertConfigurationIsValid=function(t){void 0===t&&(t=!0),e.AutoMapperValidator.assertConfigurationIsValid(this._mappings,t)},r.prototype.createMapForMember=function(t){var r,n=t.mapping,o=t.destinationProperty,i=t.conversionValueOrFunction,a=t.sourceMapping,p=t.fluentFunctions,s=e.AutoMapperHelper.getMappingMetadataFromTransformationFunction(o,i,a);return a||(r=this.getPropertyByDestinationProperty(n.properties,o)),r||(r=this.getOrCreateProperty({propertyNameParts:s.source.split("."),mapping:n,propertyArray:n.properties,parent:null,destination:o,sourceMapping:a})),this.createMapForMemberHandleIgnore(r,s)?p:s.async?(this._asyncMapper.createMapForMember(r,i,s),p):(this.createMapForMemberHandleMapFrom(r,s),r.conditionFunction=s.condition,r.conversionValuesAndFunctions.push(i),p)},r.prototype.createMapForMemberHandleMapFrom=function(e,t){if(t.source!==t.destination){var r=e.metadata,n=r.mapping,o=r.root,i=t.source.split(".");if(i.length===e.level)return void this.updatePropertyName(i,e);if(1!==o.metadata.destinationCount)throw new Error("Rebasing properties with multiple destinations is not yet implemented.");var a=n.properties.indexOf(o);n.properties[a]=void 0;var p=[],s=this.getOrCreateProperty({propertyNameParts:t.source.split("."),mapping:n,propertyArray:p,destination:t.destination,sourceMapping:t.sourceMapping});s.conditionFunction=e.conditionFunction,s.conversionValuesAndFunctions=e.conversionValuesAndFunctions,n.properties[a]=p[0]}},r.prototype.updatePropertyName=function(e,t){t.name=e[e.length-1],1!==e.length&&this.updatePropertyName(e.splice(0,1),t.metadata.parent)},r.prototype.createMapForMemberHandleIgnore=function(e,t){return!(!e.ignore&&!t.ignore)&&(e.name=t.destination,e.ignore=!0,e.async=!1,e.destinations=null,e.conversionValuesAndFunctions=[],!0)},r.prototype.getPropertyByDestinationProperty=function(e,t){if(null===e||void 0===e)return null;for(var r=0,n=e;r<n.length;r++){var o=n[r];if(null!==o.metadata.destinations&&void 0!==o.metadata.destinations)for(var i in o.metadata.destinations)if(i===t)return o.metadata.destinations[i].source;var a=this.getPropertyByDestinationProperty(o.children,t);if(null!=a)return a}return null},r.prototype.getOrCreateProperty=function(e){var t=e.propertyNameParts,r=e.mapping,n=e.parent,o=e.propertyArray,i=e.destination,a=e.sourceMapping,p=t[0],s=this.getPropertyFromArray(p,o);return s||(s=this.createProperty({name:p,parent:n,propertyArray:o,sourceMapping:a,mapping:r})),1===t.length?(this.addPropertyDestination(s,i,r,a),s):(s.children||(s.children=[]),this.getOrCreateProperty({propertyNameParts:t.slice(1),mapping:r,propertyArray:s.children,parent:s,destination:i,sourceMapping:a}))},r.prototype.getPropertyFromArray=function(e,t){if(t)for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.name===e)return o}return null},r.prototype.addPropertyDestination=function(e,t,r,n){if(t){var o=e.destinations?e.destinations:[],i=this.getOrCreateProperty({propertyNameParts:t.split("."),mapping:r,propertyArray:o,sourceMapping:n});o.length>0&&(e.metadata.root.metadata.destinations[t]={source:e,destination:i},e.metadata.root.metadata.destinationCount++,e.destinations=o)}},r.prototype.createProperty=function(e){var t=e.name,r=e.parent,n=e.propertyArray,o=e.sourceMapping,i=e.mapping,a={name:t,metadata:{mapping:i,root:r?r.metadata.root:null,parent:r,destinations:{},destinationCount:0},sourceMapping:o,level:r?r.level+1:1,ignore:!1,async:!1,conversionValuesAndFunctions:[]};return null===a.metadata.root&&(a.metadata.root=a),n&&n.push(a),a},r.prototype.createMapForSourceMember=function(e,t,r,n){if("function"!=typeof n)throw new Error("Configuration of forSourceMember has to be a function with one (sync) or two (async) options parameters.");return this.createMapForMember({mapping:e,fluentFunctions:t,destinationProperty:r,conversionValueOrFunction:n,sourceMapping:!0})},r.prototype.createMapForAllMembers=function(e,t,r){return e.forAllMemberMappings.push(r),t},r.prototype.createMapIgnoreAllNonExisting=function(e,t){return e.ignoreAllNonExisting=!0,t},r.prototype.createMapConvertToType=function(e,t,r){if(e.destinationTypeClass)throw new Error("Destination type class can only be set once.");return e.destinationTypeClass=r,t},r.prototype.createMapConvertUsing=function(t,r){try{if(r instanceof e.TypeConverter)return void this.configureSynchronousConverterFunction(t,r.convert);var n=e.AutoMapperHelper.getFunctionParameters(r.toString());switch(n.length){case 0:var o;try{o=new r}catch(e){}if(o instanceof e.TypeConverter)return void this.configureSynchronousConverterFunction(t,o.convert);break;case 1:return void this.configureSynchronousConverterFunction(t,r);case 2:return void this._asyncMapper.createMapConvertUsing(t,r)}this.configureSynchronousConverterFunction(t,r)}catch(e){throw new Error("The value provided for typeConverterClassOrFunction is invalid. "+e)}throw new Error("The value provided for typeConverterClassOrFunction is invalid.")},r.prototype.configureSynchronousConverterFunction=function(t,r){var n=this;if(!r||1!==e.AutoMapperHelper.getFunctionParameters(r.toString()).length)throw new Error("The function provided does not provide exactly one (resolutionContext) parameter.");t.typeConverterFunction=r,t.mapItemFunction=function(e,t,r){return n.mapItemUsingTypeConverter(e,t,r)}},r.prototype.createMapWithProfile=function(e,t){var r=this._profiles[t];if("undefined"==typeof r||r.profileName!==t)throw new Error("Could not find profile with profile name '"+t+"'.");e.profile=r,this.createMapWithProfileMergeMappings(e,t)},r.prototype.createMapWithProfileMergeMappings=function(e,t){var r=t+"=>"+e.sourceKey+t+"=>"+e.destinationKey,n=this._mappings[r];if(n){n.forAllMemberMappings.length>0&&(p=e.forAllMemberMappings).push.apply(p,n.forAllMemberMappings),n.typeConverterFunction&&(e.typeConverterFunction=n.typeConverterFunction),n.destinationTypeClass&&(e.destinationTypeClass=n.destinationTypeClass);for(var o=0,i=n.properties;o<i.length;o++){var a=i[o];this.mergeProperty(e,e.properties,a)}var p}},r.prototype.mergeProperty=function(e,t,r){for(var n=!1,o=0;o<e.properties.length;o++){var i=e.properties[o];i.name===r.name&&(e.properties[o]=r,n=!0)}n===!1&&e.properties.push(r)},r.prototype.mapInternal=function(e,r){if(e.async)throw new Error("Impossible to use asynchronous mapping using automapper.map(); use automapper.mapAsync() instead.");return t.prototype.isArray.call(this,r)?this.mapArray(e,r):e.mapItemFunction(e,r,t.prototype.createDestinationObject.call(this,e.destinationTypeClass))},r.prototype.mapArray=function(e,r){var n=t.prototype.handleArray.call(this,e,r,function(t,r){e.mapItemFunction(e,t,r)});return n},r.prototype.mapItem=function(e,r,n){var o=this;return n=t.prototype.handleItem.call(this,e,r,n,function(t){o.mapProperty(e,r,n,t)})},r.prototype.mapItemUsingTypeConverter=function(e,t,r,n){var o={sourceValue:t,destinationValue:r};return e.typeConverterFunction(o)},r.prototype.mapProperty=function(e,r,n,o){var i=this;t.prototype.handleProperty.call(this,e,r,o,n,function(r,o,a){for(var p=i.handlePropertyMappings(o,a),s=0,u=r;s<u.length;s++){var c=u[s];t.prototype.setPropertyValue.call(i,e,n,c,p)}})},r.prototype.handlePropertyMappings=function(e,t){if(!e||0===e.length)return t.intermediatePropertyValue;var r=e[0];if("function"==typeof r){var n=r(t);return"undefined"!=typeof n&&(t.intermediatePropertyValue=n),this.handlePropertyMappings(e.slice(1),t)}return t.intermediatePropertyValue=r,this.handlePropertyMappings(e.slice(1),t)},r.prototype.createMappingObjectForGivenKeys=function(e,r){var n=this,o={sourceKey:t.prototype.getKey.call(this,e),destinationKey:t.prototype.getKey.call(this,r),forAllMemberMappings:new Array,properties:[],propertiesNew:[],typeConverterFunction:void 0,mapItemFunction:function(e,t,r){return n.mapItem(e,t,r)},sourceTypeClass:"string"==typeof e?void 0:e,destinationTypeClass:"string"==typeof r?void 0:r,profile:void 0,async:!1};return this._mappings[o.sourceKey+o.destinationKey]=o,o},r.prototype.createMapGetFluentApiFunctions=function(e){var t=this,r={forMember:function(n,o){return t.createMapForMemberNewVersion({mapping:e,propertyName:n,transformation:o,sourceMapping:!1,fluentFunctions:r}),t.createMapForMember({mapping:e,fluentFunctions:r,destinationProperty:n,conversionValueOrFunction:o,sourceMapping:!1})},forSourceMember:function(n,o){return t.createMapForMemberNewVersion({mapping:e,propertyName:n,transformation:o,sourceMapping:!0,fluentFunctions:r}),t.createMapForSourceMember(e,r,n,o)},forAllMembers:function(n){return t.createMapForAllMembers(e,r,n)},ignoreAllNonExisting:function(){return t.createMapIgnoreAllNonExisting(e,r)},convertToType:function(n){return t.createMapConvertToType(e,r,n)},convertUsing:function(r){return t.createMapConvertUsing(e,r)},withProfile:function(r){return t.createMapWithProfile(e,r)}};return r},r.prototype.createMapForMemberNewVersion=function(t){var r=t.mapping,n=t.propertyName,o=t.transformation,i=t.sourceMapping,a=t.fluentFunctions,p=e.AutoMapperHelper.getMappingMetadataFromTransformationFunction(n,o,i);this.validateForMemberParameters(p);var s=(p.source,p.destination,this.createSourceProperty(p,null));return this.mergeSourceProperty(s,r.propertiesNew,i)||r.propertiesNew.push(s),a},r.prototype.validateForMemberParameters=function(t){if(t.sourceMapping&&t.transformation.transformationType===e.DestinationTransformationType.Constant)throw new Error("Configuration of forSourceMember has to be a function with one (sync) or two (async) options parameters.")},r.prototype.createSourceProperty=function(e,t){var r=t?t.level+1:0,n=e.source.split(".");if(r>=n.length)return null;var o={name:n[r],sourcePropertyName:e.source,destinationPropertyName:e.destination,parent:t,level:r,children:[],destination:null};if(r+1<n.length){var i=this.createSourceProperty(e,o);i&&o.children.push(i),o.destination=null}else o.destination=this.createDestinationProperty(e,null);return o},r.prototype.createDestinationProperty=function(e,t){var r=t?t.level+1:0,n=e.destination.split(".");if(r>=n.length)return null;var o={name:n[r],sourcePropertyName:e.source,destinationPropertyName:e.destination,parent:t,level:r,child:null,transformations:[],ignore:!1,sourceMapping:!1};return r+1<n.length?o.child=this.createDestinationProperty(e,o):(o.sourceMapping=e.sourceMapping,o.ignore=e.ignore,o.transformations.push(e.transformation)),o},r.prototype.mergeSourceProperty=function(e,t,r){var n=r?this.findProperty(e.name,t):this.matchSourcePropertyByDestination(e,t);if(!n)return!1;if(e.destination){if(n.children.length>0){var o=this.getDestinationProperty(n.destinationPropertyName,n);return this.handleMapFromProperties(e,n)?!!this.mergeDestinationProperty(e.destination,o)&&(n.destination=o,n.children=[],!0):this.mergeDestinationProperty(e.destination,o)}return!!this.mergeDestinationProperty(e.destination,n.destination)&&(this.handleMapFromProperties(e,n),!0)}if(e.children.length>0){if(n.children.length>0){for(var i=0,a=e.children;i<a.length;i++){var p=a[i];if(!this.mergeSourceProperty(p,n.children,r))return!1}return!0}if(e.sourcePropertyName!==n.sourcePropertyName){var s=this.getDestinationProperty(n.destinationPropertyName,e);return e.destinationPropertyName!==e.sourcePropertyName?!!this.mergeDestinationProperty(n.destination,s)&&(n.children=e.children,n.name=e.name,n.sourcePropertyName=e.sourcePropertyName,!0):this.mergeDestinationProperty(s,n.destination)}}throw new Error("TODO TEST AND REMOVE => Source property should have destination or child(ren)")},r.prototype.handleMapFromProperties=function(e,t){return e.destinationPropertyName!==e.sourcePropertyName&&e.sourcePropertyName!==t.sourcePropertyName&&(t.name=e.name,t.sourcePropertyName=e.sourcePropertyName,!0)},r.prototype.getDestinationProperty=function(e,t){if(t.destination)return t.destination;if(t.children)for(var r=0,n=t.children;r<n.length;r++){var o=n[r],i=this.getDestinationProperty(e,o);if(i)return i}return null},r.prototype.mergeDestinationProperty=function(e,t){if(e.child)return!!t.child&&(!!this.mergeDestinationProperty(e.child,t.child)&&(this.handleMapFromProperties(e,t),!0));if(t.sourceMapping!==e.sourceMapping&&t.sourcePropertyName!==e.sourcePropertyName)return!1;t.sourceMapping=e.sourceMapping,t.ignore=e.ignore;for(var r=0,n=e.transformations;r<n.length;r++){var o=n[r];t.transformations.push(o)}return this.handleMapFromProperties(e,t),!0},r.prototype.matchSourcePropertyByDestination=function(e,t){if(!t)return null;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.destinationPropertyName===e.destinationPropertyName)return o}return null},r.prototype.findProperty=function(e,t){if(!t)return null;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o.name===e)return o}return null},r._instance=new r,r}(e.AutoMapperBase);e.AutoMapper=t}(AutoMapperJs||(AutoMapperJs={}));var automapper=function(e){return e.automapper=AutoMapperJs.AutoMapper.getInstance(),e.automapper}(this),AutoMapperJs;!function(e){"use strict";var t=function(){function e(){}return e.prototype.configure=function(){},e.prototype.createMap=function(e,t){for(var r=Array.prototype.slice.apply(arguments),n=0,o=r.length;n<o;n++)r[n]&&(r[n]=this.profileName+"=>"+r[n]);return automapper.createMap.apply(automapper,r)},e}();e.Profile=t}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";var t=function(){function e(){}return e.prototype.convert=function(e){throw new Error("The TypeConverter.convert method is abstract. Use a TypeConverter extension class instead.")},e}();e.TypeConverter=t}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";var t=function(){function e(){this.splittingExpression=/(^[a-z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return e.prototype.transformPropertyName=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=0===r?e[r].charAt(0).toLowerCase()+e[r].substr(1):e[r].charAt(0).toUpperCase()+e[r].substr(1);return t},e}();e.CamelCaseNamingConvention=t}(AutoMapperJs||(AutoMapperJs={}));var AutoMapperJs;!function(e){"use strict";var t=function(){function e(){this.splittingExpression=/(^[A-Z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return e.prototype.transformPropertyName=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e[r].charAt(0).toUpperCase()+e[r].substr(1);return t},e}();e.PascalCaseNamingConvention=t}(AutoMapperJs||(AutoMapperJs={}));
//# sourceMappingURL=automapper.min.js.map
