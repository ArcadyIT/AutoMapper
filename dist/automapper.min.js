/*!
 * TypeScript / Javascript AutoMapper Library v1.5.0
 * https://github.com/ArcadyIT/AutoMapper
 *
 * Copyright 2015 Arcady BV and other contributors
 * Released under the MIT license
 *
 * Date: 2015-10-17T01:03:43.231Z
 */
var AutoMapperJs;!function(r){"use strict";var t=function(){function r(){}return r.getClassName=function(r){if(r&&r.constructor){var t=r.toString();if(t){var n=t.match(/function\s*(\w+)/);if(n&&2===n.length)return n[1]}if(r.constructor.name)return r.constructor.name;if(r.constructor.toString()){var e=r.constructor.toString();if("["===e.charAt(0))var a=e.match(/\[\w+\s*(\w+)\]/);else var a=e.match(/function\s*(\w+)/);if(a&&2===a.length)return a[1]}}throw new Error("Unable to extract class name from type '"+r+"'")},r.getFunctionParameters=function(r){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,n=/([^\s,]+)/g,e=r.toString().replace(t,""),a=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(n);return null===a&&(a=new Array),a},r.handleCurrying=function(r,t,n){function e(t,a,o){for(var c=a.slice(0),u=o,i=0;i<t.length;i++,o--)a[a.length]=t[i];if(o-t.length<=0){var s=r.apply(n,a);return a=c,o=u,s}return function(){return e(arguments,a.slice(0),o)}}var a=r.length-t.length,o=Array.prototype.slice.apply(t);return e([],o,a)},r}();r.AutoMapperHelper=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(e){"use strict";var r=function(){function r(){}return r.assertConfigurationIsValid=function(e,n){void 0===n&&(n=!0);for(var t in e)e.hasOwnProperty(t)&&r.assertMappingConfiguration(e[t],n)},r.assertMappingConfiguration=function(n,t){var o=n.sourceKey+"=>"+n.destinationKey,i=n.sourceTypeClass,a=n.destinationTypeClass,p=i?e.AutoMapperHelper.getClassName(i):void 0,s=a?e.AutoMapperHelper.getClassName(a):void 0;if(!i||!a){if(t===!1)return;throw new Error("Mapping '"+o+"' cannot be validated, since mapping.sourceType or mapping.destinationType are unspecified.")}var u=function(e){if(e)throw new Error("Mapping '"+o+"' is invalid: "+e+" (source: '"+p+"', destination: '"+s+"').")},d=new Array,f=new i,c=new a;for(var y in n.forMemberMappings)n.forMemberMappings.hasOwnProperty(y)&&(u(r.validatePropertyMapping(n.forMemberMappings[y],y,f,c)),d.push(y));for(var g in f)f.hasOwnProperty(g)&&(d.indexOf(g)>=0||(u(r.validateProperty(g,c)),d.push(g)));for(var m in c)c.hasOwnProperty(m)&&(d.indexOf(m)>=0||u("Destination member '"+m+"' does not exist on source type"))},r.validatePropertyMapping=function(e,n,t,o){return e.sourceMapping?r.validateSourcePropertyMapping(e,n,t,o):r.validateDestinationPropertyMapping(e,n,t,o)},r.validateSourcePropertyMapping=function(e,r,n,t){if(!n.hasOwnProperty(r))return"Source member '"+r+"' is configured, but does not exist on source type";{if(!e.ignore)return t.hasOwnProperty(r)?void 0:"Source member '"+r+"' is configured to be mapped, but does not exist on destination type";if(t.hasOwnProperty(r))return"Source member '"+r+"' is ignored, but does exist on destination type"}},r.validateDestinationPropertyMapping=function(e,r,n,t){if(!t.hasOwnProperty(r))return"Destination member '"+r+"' is configured, but does not exist on destination type";{if(!e.ignore)return n.hasOwnProperty(r)?void 0:"Destination member '"+r+"' is configured to be mapped, but does not exist on source type";if(n.hasOwnProperty(r))return"Destination member '"+r+"' is ignored, but does exist on source type"}},r.validateProperty=function(e,r){return r.hasOwnProperty(e)?void 0:"Source member '"+e+"' is configured to be mapped, but does not exist on destination type"},r}();e.AutoMapperValidator=r}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(t){"use strict";var e=function(){function e(){}return e.prototype.getMapping=function(t,e,r){var n=this.getKey(e),o=this.getKey(r),i=t[n+o];if(!i)throw new Error("Could not find map object with a source of "+n+" and a destination of "+o);return i},e.prototype.getKey=function(e){return"string"==typeof e?e:t.AutoMapperHelper.getClassName(e)},e.prototype.isArray=function(t){return t instanceof Array},e.prototype.handleArray=function(t,e,r){for(var n=e.length,o=new Array(e.length),i=0;n>i;i++){var a=e[i],p=void 0;null===a||void 0===a?p=a:(p=this.createDestinationObject(t.destinationTypeClass),r(a,p)),o[i]=p}return o},e.prototype.handleItem=function(t,e,r,n){for(var o in e)e.hasOwnProperty(o)&&n(o);return r},e.prototype.handleProperty=function(t,e,r,n,o){var i=t.forMemberMappings[r];if(i){var a=i.ignore,p=i.conditionFunction,s=(i.destinationProperty,i.mappingValuesAndFunctions);if(a)return;if(p&&p(e)===!1)return;var u={mapFrom:function(){},condition:function(t){},sourceObject:e,sourcePropertyName:r,intermediatePropertyValue:e[r]};o(i.destinationProperty,s,u)}else{if(t.ignoreAllNonExisting)return;var f=this.getDestinationPropertyName(t.profile,r);this.setPropertyValue(t,n,f,e[r])}},e.prototype.setPropertyValue=function(t,e,r,n){if(t.forAllMemberMappings.length>0)for(var o=0,i=t.forAllMemberMappings;o<i.length;o++){var a=i[o];a(e,r,n)}else e[r]=n},e.prototype.createDestinationObject=function(t){return t?new t:{}},e.prototype.getDestinationPropertyName=function(t,e){if(!t)return e;try{for(var r=e.split(t.sourceMemberNamingConvention.splittingExpression),n=r.length-1;n>=0;n--)""===r[n]&&r.splice(n,1);return t.destinationMemberNamingConvention.transformPropertyName(r)}catch(o){return e}},e}();t.AutoMapperBase=e}(AutoMapperJs||(AutoMapperJs={}));
var __extends=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);e.prototype=n.prototype,t.prototype=new e},AutoMapperJs;!function(t){"use strict";var n=function(n){function e(){n.call(this),e.asyncInstance=this}return __extends(e,n),e.getInstance=function(){return e.asyncInstance},e.prototype.createMapForMemberFunction=function(t,n,e){var r=this;t.async=!0,t.mapItemFunction=function(t,n,e,o){return r.mapItem(t,n,e,o)},n.async=!0,n.mappingValuesAndFunctions.push(e)},e.prototype.createMapForSourceMemberFunction=function(t,n,e){var r=this;t.async=!0,t.mapItemFunction=function(t,n,e,o){return r.mapItem(t,n,e,o)},n.async=!0,n.mappingValuesAndFunctions.push(e)},e.prototype.createMapConvertUsing=function(t,n){var e=this;t.async=!0,t.typeConverterFunction=n,t.mapItemFunction=function(t,n,r,o){return e.mapItemUsingTypeConverter(t,n,r,o)}},e.prototype.map=function(t,e,r,o,p){var a=this;return 5===arguments.length?void this.mapWithMapping(n.prototype.getMapping.call(this,r,t,e),o,p):2===arguments.length?function(o,p){return a.mapWithMapping(n.prototype.getMapping.call(a,r,t,e),o,p)}:1===arguments.length?function(n,e,o){return a.map(t,n,r,e,o)}:function(t,n,e){return a.map(t,n,r,e,p)}},e.prototype.mapWithMapping=function(t,e,r){return n.prototype.isArray.call(this,e)?void this.mapArray(t,e,r):t.mapItemFunction(t,e,n.prototype.createDestinationObject.call(this,t.destinationTypeClass),r)},e.prototype.mapArray=function(t,e,r){var o=0,p=n.prototype.handleArray.call(this,t,e,function(n,e){o++,t.mapItemFunction(t,n,e,function(t){o--,0===o&&r(p)})})},e.prototype.mapItemUsingTypeConverter=function(t,n,e,r){var o={sourceValue:n,destinationValue:e};t.typeConverterFunction(o,r)},e.prototype.mapItem=function(t,e,r,o){var p=this,a=0;n.prototype.handleItem.call(this,t,e,r,function(n){a++,p.mapProperty(t,e,n,r,function(t){a--,0===a&&o(r)})})},e.prototype.mapProperty=function(t,e,r,o,p){var a=this;n.prototype.handleProperty.call(this,t,e,r,o,function(e,r,i){a.handlePropertyMappings(r,i,function(r){n.prototype.setPropertyValue.call(a,t,o,e,r),p(r)})})},e.prototype.handlePropertyMappings=function(t,n,e){var r=this;if(!t||0===t.length)return void e(n.intermediatePropertyValue);var o=t[0];"function"==typeof o?this.handlePropertyMappingFunction(o,n,function(o){"undefined"!=typeof o&&(n.intermediatePropertyValue=o,r.handlePropertyMappings(t.slice(1),n,e))}):(n.intermediatePropertyValue=o,this.handlePropertyMappings(t.slice(1),n,e))},e.prototype.handlePropertyMappingFunction=function(n,e,r){var o=t.AutoMapperHelper.getFunctionParameters(n);return 2===o.length?void n(e,r):void r(n(e))},e.asyncInstance=new e,e}(t.AutoMapperBase);t.AsyncAutoMapper=n}(AutoMapperJs||(AutoMapperJs={}));
var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);t.prototype=r.prototype,e.prototype=new t},AutoMapperJs;!function(e){"use strict";var r=function(r){function t(){return r.call(this),t.instance?t.instance:(t.instance=this,this.profiles={},this.mappings={},this.asyncAutoMapper=new e.AsyncAutoMapper,void 0)}return __extends(t,r),t.getInstance=function(){return t.instance},t.prototype.initialize=function(e){var r=this,t={addProfile:function(e){e.configure(),r.profiles[e.profileName]=e},createMap:function(e,t){return r.createMap.apply(r,arguments)}};e(t)},t.prototype.createMap=function(t,n){var o=this;if(arguments.length<2)return e.AutoMapperHelper.handleCurrying(this.createMap,arguments,this);var p={sourceKey:r.prototype.getKey.call(this,t),destinationKey:r.prototype.getKey.call(this,n),forAllMemberMappings:new Array,forMemberMappings:{},typeConverterFunction:void 0,mapItemFunction:function(e,r,t){return o.mapItem(e,r,t)},sourceTypeClass:"string"==typeof t?void 0:t,destinationTypeClass:"string"==typeof n?void 0:n,profile:void 0,async:!1};this.mappings[p.sourceKey+p.destinationKey]=p;var i={forMember:function(e,r){return o.createMapForMember(p,i,e,r)},forSourceMember:function(e,r){return o.createMapForSourceMember(p,i,e,r)},forAllMembers:function(e){return o.createMapForAllMembers(p,i,e)},ignoreAllNonExisting:function(){return o.createMapIgnoreAllNonExisting(p,i)},convertToType:function(e){return o.createMapConvertToType(p,i,e)},convertUsing:function(e){return o.createMapConvertUsing(p,e)},withProfile:function(e){return o.createMapWithProfile(p,e)}};return i},t.prototype.map=function(e,t,n){var o=this;return 3===arguments.length?this.mapInternal(r.prototype.getMapping.call(this,this.mappings,e,t),n):2===arguments.length?function(n){return o.mapInternal(r.prototype.getMapping.call(o,o.mappings,e,t),n)}:1===arguments.length?function(r,t){return o.map(e,r,t)}:function(e,r,t){return o.map(e,r,t)}},t.prototype.mapAsync=function(e,r,t,n){return this.asyncAutoMapper.map(e,r,this.mappings,t,n)},t.prototype.assertConfigurationIsValid=function(r){void 0===r&&(r=!0),e.AutoMapperValidator.assertConfigurationIsValid(this.mappings,r)},t.prototype.createMapForMember=function(e,r,t,n){var o=void 0,p=this.createMapForMemberFindMember(e,t);if(null!==p&&void 0!==p){if(p.ignore)return r;o=""+p.sourceProperty}else p={sourceProperty:t,destinationProperty:t,sourceMapping:!1,mappingValuesAndFunctions:new Array,ignore:!1,async:!1,conditionFunction:void 0};return"function"==typeof n?this.createMapForMemberHandleMappingFunction(e,p,n):p.mappingValuesAndFunctions.push(n),o?o!==p.sourceProperty&&(delete e.forMemberMappings[o],e.forMemberMappings[p.sourceProperty]=p):e.forMemberMappings[p.sourceProperty]=p,r},t.prototype.createMapForMemberFindMember=function(e,r){for(var t in e.forMemberMappings)if(e.forMemberMappings.hasOwnProperty(t)){var n=e.forMemberMappings[t];if(n.destinationProperty===r)return n}return null},t.prototype.createMapForMemberHandleMappingFunction=function(r,t,n){var o=e.AutoMapperHelper.getFunctionParameters(n);o.length<=1?this.createMapForMemberHandleSyncMappingFunction(t,n):this.createMapForMemberHandleAsyncMappingFunction(r,t,n)},t.prototype.createMapForMemberHandleSyncMappingFunction=function(e,r){var t=!0,n={};n[e.sourceProperty]={};var o={ignore:function(){e.ignore=!0,e.sourceProperty=e.destinationProperty,e.mappingValuesAndFunctions=new Array,t=!1},condition:function(r){e.conditionFunction=r},mapFrom:function(r){e.sourceProperty=r},sourceObject:n,sourcePropertyName:e.sourceProperty,intermediatePropertyValue:{}};try{r(o)}catch(p){}t&&e.mappingValuesAndFunctions.push(r)},t.prototype.createMapForMemberHandleAsyncMappingFunction=function(e,r,t){this.asyncAutoMapper.createMapForMemberFunction(e,r,t)},t.prototype.createMapForSourceMember=function(r,t,n,o){var p=!1,i=n,a=!1;if("function"!=typeof o)throw new Error("Configuration of forSourceMember has to be a function with one options parameter.");if(e.AutoMapperHelper.getFunctionParameters(o).length<=1){var s={ignore:function(){p=!0,i=void 0}};o(s)}else a=!0;var u=r.forMemberMappings[n];return u?p?(u.ignore=!0,u.async=!1,u.mappingValuesAndFunctions=new Array):(u.async=a,u.mappingValuesAndFunctions.push(o)):r.forMemberMappings[n]={sourceProperty:n,destinationProperty:i,sourceMapping:!0,mappingValuesAndFunctions:[o],ignore:p,async:a,conditionFunction:void 0},a===!0&&(r.async=!0),t},t.prototype.createMapForAllMembers=function(e,r,t){return e.forAllMemberMappings.push(t),r},t.prototype.createMapIgnoreAllNonExisting=function(e,r){return e.ignoreAllNonExisting=!0,r},t.prototype.createMapConvertToType=function(e,r,t){if(e.destinationTypeClass){if(e.destinationTypeClass===t)return r;throw new Error("Destination type class can only be set once.")}return e.destinationTypeClass=t,r},t.prototype.createMapConvertUsing=function(r,t){var n,o=this,p=e.AutoMapperHelper.getFunctionParameters(t),i=!1;try{t instanceof e.TypeConverter?n=t.convert:2===p.length?i=!0:n=1===p.length?t:(new t).convert}catch(a){throw new Error("The value provided for typeConverterClassOrFunction is invalid. Exception: "+a)}if(i)this.asyncAutoMapper.createMapConvertUsing(r,t);else{if(!n||1!==e.AutoMapperHelper.getFunctionParameters(n).length)throw new Error("The value provided for typeConverterClassOrFunction is invalid, because it does not provide exactly one (resolutionContext) parameter.");r.typeConverterFunction=n,r.mapItemFunction=function(e,r,t){return o.mapItemUsingTypeConverter(e,r,t)}}},t.prototype.createMapWithProfile=function(e,r){var t=this.profiles[r];if("undefined"==typeof t||t.profileName!==r)throw new Error("Could not find profile with profile name '"+r+"'.");e.profile=t,this.createMapWithProfileMergeMappings(e,r)},t.prototype.createMapWithProfileMergeMappings=function(e,r){var t=r+"=>"+e.sourceKey+r+"=>"+e.destinationKey,n=this.mappings[t];if(n){n.forAllMemberMappings.length>0&&(a=e.forAllMemberMappings).push.apply(a,n.forAllMemberMappings),n.typeConverterFunction&&(e.typeConverterFunction=n.typeConverterFunction),n.destinationTypeClass&&(e.destinationTypeClass=n.destinationTypeClass);for(var o in n.forMemberMappings)if(n.forMemberMappings.hasOwnProperty(o)){var p=n.forMemberMappings[o],i=this.createMapForMemberFindMember(e,p.destinationProperty);i&&(delete e.forMemberMappings[i.sourceProperty],e.forMemberMappings[p.sourceProperty]=p)}var a}},t.prototype.mapInternal=function(e,t){if(e.async)throw new Error("Impossible to use asynchronous mapping using automapper.map(); use automapper.mapAsync() instead.");return r.prototype.isArray.call(this,t)?this.mapArray(e,t):e.mapItemFunction(e,t,r.prototype.createDestinationObject.call(this,e.destinationTypeClass))},t.prototype.mapArray=function(e,t){var n=r.prototype.handleArray.call(this,e,t,function(r,t){e.mapItemFunction(e,r,t)});return n},t.prototype.mapItem=function(e,t,n){var o=this;return r.prototype.handleItem.call(this,e,t,n,function(r){o.mapProperty(e,t,n,r)}),n},t.prototype.mapItemUsingTypeConverter=function(e,r,t,n){var o={sourceValue:r,destinationValue:t};return e.typeConverterFunction(o)},t.prototype.mapProperty=function(e,t,n,o){var p=this;r.prototype.handleProperty.call(this,e,t,o,n,function(t,o,i){var a=p.handlePropertyMappings(o,i);r.prototype.setPropertyValue.call(p,e,n,t,a)})},t.prototype.handlePropertyMappings=function(e,r){if(!e||0===e.length)return r.intermediatePropertyValue;var t=e[0];if("function"==typeof t){var n=t(r);return"undefined"!=typeof n&&(r.intermediatePropertyValue=n),this.handlePropertyMappings(e.slice(1),r)}return r.intermediatePropertyValue=t,this.handlePropertyMappings(e.slice(1),r)},t.instance=new t,t}(e.AutoMapperBase);e.AutoMapper=r}(AutoMapperJs||(AutoMapperJs={}));var automapper=function(e){return e.automapper=AutoMapperJs.AutoMapper.getInstance(),e.automapper}(this);
var AutoMapperJs;!function(r){"use strict";var t=function(){function r(){}return r.prototype.configure=function(){},r.prototype.createMap=function(r,t){for(var p=Array.prototype.slice.apply(arguments),e=0,o=p.length;o>e;e++)p[e]&&(p[e]=this.profileName+"=>"+p[e]);return automapper.createMap.apply(automapper,p)},r}();r.Profile=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(e){"use strict";var t=function(){function e(){}return e.prototype.convert=function(e){throw new Error("The TypeConverter.convert method is abstract. Use a TypeConverter extension class instead.")},e}();e.TypeConverter=t}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(t){"use strict";var r=function(){function t(){this.splittingExpression=/(^[a-z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return t.prototype.transformPropertyName=function(t){for(var r="",a=0,e=t.length;e>a;a++)r+=0===a?t[a].charAt(0).toLowerCase()+t[a].substr(1):t[a].charAt(0).toUpperCase()+t[a].substr(1);return r},t}();t.CamelCaseNamingConvention=r}(AutoMapperJs||(AutoMapperJs={}));
var AutoMapperJs;!function(t){"use strict";var r=function(){function t(){this.splittingExpression=/(^[A-Z]+(?=$|[A-Z]{1}[a-z0-9]+)|[A-Z]?[a-z0-9]+)/,this.separatorCharacter=""}return t.prototype.transformPropertyName=function(t){for(var r="",a=0,n=t.length;n>a;a++)r+=t[a].charAt(0).toUpperCase()+t[a].substr(1);return r},t}();t.PascalCaseNamingConvention=r}(AutoMapperJs||(AutoMapperJs={}));