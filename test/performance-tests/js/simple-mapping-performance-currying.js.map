{"version":3,"sources":["simple-mapping-performance-currying.ts"],"names":[],"mappings":"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","file":"simple-mapping-performance-currying.js","sourcesContent":["/// <reference path=\"mapping-framework.ts\" />\r\n\r\n/// <reference path=\"../../../dist/automapper.d.ts\" />\r\nmodule AutoMapperJS {\r\n\t'use strict';\r\n\t\r\n\texport class SimpleMappingPerformanceWithCurrying {\r\n\t\tpublic execute(repetitions: number = 1* 1000 * 1000): Array<AutoMapperJS.IPerformanceTestResult> {\r\n\t\t\tvar result = new Array<AutoMapperJS.IPerformanceTestResult>();\r\n\t\t\t\r\n\t\t\tvar executeRepeatFunc = (action: () => void): void => {\r\n\t\t\t\tfor (var repetition = 0; repetition < repetitions; repetition++) {\r\n\t\t\t\t\taction();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tresult.push(this.executeMappingDefaults(executeRepeatFunc, repetitions));\r\n\t\t\tresult.push(this.executeSimpleMapping(executeRepeatFunc, repetitions));\r\n\t\t\tresult.push(this.executeOverruleMapping(executeRepeatFunc, repetitions));\r\n\t\t\tresult.push(this.executeMapFromMapping(executeRepeatFunc, repetitions));\r\n\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tprivate executeMappingDefaults(executeRepeatFunc: (action: () => void) => void, repetitions: number): IPerformanceTestResult {\t\t\t\r\n\t\t\tvar fromObj = { \r\n\t\t\t\tprop1: 'Value1', \r\n\t\t\t\tprop2: 'Value2' \r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tvar t0 = performance.now();\r\n\r\n\t\t\tvar from = '31a59aa6-daa6-4b5e-968e-8b724743d0e7';\r\n\t\t\tvar to = '0a89f8f5-0999-4b39-9f52-5d1f35a1ca03';\r\n\t\t\t\t\t\t\r\n\t\t\tautomapper\r\n\t\t\t\t.createMap(from, to);\r\n\r\n\t\t\tvar t1 = performance.now();\r\n\r\n\t\t\tvar mapFunc = automapper.map(from, to); \r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tmapFunc(fromObj);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvar t2 = performance.now();\r\n\r\n\t\t\t// old school hard coded comparable functionality\r\n\t\t\tvar oldSchoolT1 = performance.now();\r\n\t\t\t\r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tvar toObj = <any>{};\r\n\t\t\t\ttoObj.prop1 = fromObj.prop1;\r\n\t\t\t\ttoObj.prop1 = fromObj.prop2;\r\n\t\t\t});\t\t\t\r\n\t\t\t\r\n\t\t\tvar oldSchoolT2 = performance.now();\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tclass: 'SimpleMappingPerformanceWithCurrying',\r\n\t\t\t\ttest: 'executeMappingDefaults',\r\n\t\t\t\trepetitions: repetitions,\r\n\t\t\t\tcreationTimeInMs: t1-t0,\r\n\t\t\t\texecutionTimeInMs: t2-t1,\r\n\t\t\t\treferenceExecutionTimeInMs: oldSchoolT2 - oldSchoolT1\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tprivate executeSimpleMapping(executeRepeatFunc: (action: () => void) => void, repetitions: number): IPerformanceTestResult {\t\t\t\r\n\t\t\tvar fromObj = { \r\n\t\t\t\tprop1: 'Value1', \r\n\t\t\t\tprop2: 'Value2' \r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tvar t0 = performance.now();\r\n\r\n\t\t\tvar from = '31a59aa6-daa6-4b5e-968e-7c724943d0b8';\r\n\t\t\tvar to = '0b89f8f5-0989-4b39-9e15-51ef35a1ca03';\r\n\t\t\t\t\t\t\r\n\t\t\tautomapper\r\n\t\t\t\t.createMap(from, to)\r\n\t\t\t\t.forMember('prop1', (opts: AutoMapperJs.IMemberConfigurationOptions) => opts.sourceObject[opts.sourcePropertyName])\r\n\t\t\t\t.forMember('prop2', (opts: AutoMapperJs.IMemberConfigurationOptions) => opts.sourceObject[opts.sourcePropertyName])\r\n\t\t\t;\r\n\r\n\t\t\tvar t1 = performance.now();\r\n\r\n\t\t\tvar mapFunc = automapper.map(from, to); \r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tmapFunc(fromObj);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvar t2 = performance.now();\r\n\t\t\t\r\n\t\t\t// old school hard coded comparable functionality\r\n\t\t\tvar oldSchoolT1 = performance.now();\r\n\t\t\t\r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tvar toObj = <any>{};\r\n\t\t\t\ttoObj.prop1 = fromObj.prop1;\r\n\t\t\t\ttoObj.prop2 = fromObj.prop2;\r\n\t\t\t});\t\t\t\r\n\t\t\t\r\n\t\t\tvar oldSchoolT2 = performance.now();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tclass: 'SimpleMappingPerformanceWithCurrying',\r\n\t\t\t\ttest: 'executeSimpleMapping',\r\n\t\t\t\trepetitions: repetitions,\r\n\t\t\t\tcreationTimeInMs: t1-t0,\r\n\t\t\t\texecutionTimeInMs: t2-t1,\r\n\t\t\t\treferenceExecutionTimeInMs: oldSchoolT2 - oldSchoolT1\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tprivate executeOverruleMapping(executeRepeatFunc: (action: () => void) => void, repetitions: number): IPerformanceTestResult {\r\n\t        var fromObj = { prop1: 'From A', prop2: 'From A too' };\r\n\r\n\t\t\tvar fromKey = '{7AC4134B-ECC1-464B-B144-5B9D8F5B568E}';\r\n\t\t\tvar toKey = '{2BDE907C-1CE6-4CC5-A601-9A94CC665837}';\r\n\r\n\t\t\tvar t0 = performance.now();\r\n\t\t\t\r\n\t\t\tautomapper\r\n\t\t\t\t.createMap(fromKey, toKey)\r\n\t\t\t\t.forMember('prop1', (opts: AutoMapperJs.IMemberConfigurationOptions) => { opts.mapFrom('prop2'); })\r\n\t\t\t\t.forMember('prop1', (opts: AutoMapperJs.IMemberConfigurationOptions) => { opts.ignore(); });\r\n\t\r\n\t\t\tvar t1 = performance.now();\r\n\t\t\t\r\n\t\t\tvar mapFunc = automapper.map(fromKey, toKey); \r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tmapFunc(fromObj);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvar t2 = performance.now();\t\t\t\r\n\r\n\t\t\t// old school hard coded comparable functionality\r\n\t\t\tvar oldSchoolT1 = performance.now();\r\n\t\t\t\r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tvar toObj = <any>{};\r\n\t\t\t});\t\t\t\r\n\t\t\t\r\n\t\t\tvar oldSchoolT2 = performance.now();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tclass: 'SimpleMappingPerformanceWithCurrying',\r\n\t\t\t\ttest: 'executeOverruleMapping',\r\n\t\t\t\trepetitions: repetitions,\r\n\t\t\t\tcreationTimeInMs: t1-t0,\r\n\t\t\t\texecutionTimeInMs: t2-t1,\r\n\t\t\t\treferenceExecutionTimeInMs: oldSchoolT2 - oldSchoolT1\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tprivate executeMapFromMapping(executeRepeatFunc: (action: () => void) => void, repetitions: number): IPerformanceTestResult {\r\n\t        var fromObj = { prop1: 'From A', prop2: 'From A too' };\r\n\r\n\t\t\tvar fromKey = '{7AC4134B-ECC1-464B-B144-5B9D8F5B568E}';\r\n\t\t\tvar toKey = '{2BDE907C-1CE6-4CC5-A601-9A94CC665837}';\r\n\r\n\t\t\tvar t0 = performance.now();\r\n\t\t\t\r\n\t\t\tautomapper\r\n\t\t\t\t.createMap(fromKey, toKey)\r\n\t\t\t\t.forMember('prop1', (opts: AutoMapperJs.IMemberConfigurationOptions) => { opts.mapFrom('prop2'); })\r\n\t\t\t;\r\n\t\r\n\t\t\tvar t1 = performance.now();\r\n\t\t\t\r\n\t\t\tvar mapFunc = automapper.map(fromKey, toKey); \r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tmapFunc(fromObj);\r\n\t\t\t});\r\n\r\n\t\t\tvar t2 = performance.now();\t\t\t\r\n\r\n\t\t\t// old school hard coded comparable functionality\r\n\t\t\tvar oldSchoolT1 = performance.now();\r\n\t\t\t\r\n\t\t\texecuteRepeatFunc(()=> {\r\n\t\t\t\tvar toObj = <any>{};\r\n\t\t\t\ttoObj.prop1 = fromObj.prop2;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvar oldSchoolT2 = performance.now();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tclass: 'SimpleMappingPerformanceWithCurrying',\r\n\t\t\t\ttest: 'executeOverruleMapping',\r\n\t\t\t\trepetitions: repetitions,\r\n\t\t\t\tcreationTimeInMs: t1-t0,\r\n\t\t\t\texecutionTimeInMs: t2-t1,\r\n\t\t\t\treferenceExecutionTimeInMs: oldSchoolT2 - oldSchoolT1\r\n\t\t\t};\t\t\r\n\t\t}\r\n\t}\r\n}"],"sourceRoot":"/source/"}